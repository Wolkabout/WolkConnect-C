<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<title>WolkConnect-C: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="new_stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="WA logo">
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">README </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="fragment"><div class="line">██╗    ██╗ ██████╗ ██╗     ██╗  ██╗ ██████╗ ██████╗ ███╗   ██╗███╗   ██╗███████╗ ██████╗████████╗  </div>
<div class="line">██║    ██║██╔═══██╗██║     ██║ ██╔╝██╔════╝██╔═══██╗████╗  ██║████╗  ██║██╔════╝██╔════╝╚══██╔══╝  </div>
<div class="line">██║ █╗ ██║██║   ██║██║     █████╔╝ ██║     ██║   ██║██╔██╗ ██║██╔██╗ ██║█████╗  ██║        ██║     </div>
<div class="line">██║███╗██║██║   ██║██║     ██╔═██╗ ██║     ██║   ██║██║╚██╗██║██║╚██╗██║██╔══╝  ██║        ██║     </div>
<div class="line">╚███╔███╔╝╚██████╔╝███████╗██║  ██╗╚██████╗╚██████╔╝██║ ╚████║██║ ╚████║███████╗╚██████╗   ██║     </div>
<div class="line"> ╚══╝╚══╝  ╚═════╝ ╚══════╝╚═╝  ╚═╝ ╚═════╝ ╚═════╝ ╚═╝  ╚═══╝╚═╝  ╚═══╝╚══════╝ ╚═════╝   ╚═╝     </div>
<div class="line">                                                                                                   </div>
<div class="line">                                                                                            ██████╗</div>
<div class="line">                                                                                           ██╔════╝</div>
<div class="line">                                                                                     █████╗██║     </div>
<div class="line">                                                                                     ╚════╝██║     </div>
<div class="line">                                                                                           ╚██████╗</div>
<div class="line">                                                                                            ╚═════╝</div>
</div><!-- fragment --> <h2><a href="https:/*github.com/Wolkabout/WolkConnect-C/actions/workflows/cmake.yml"><img src="https:/*github.com/Wolkabout/WolkConnect-C/actions/workflows/cmake.yml/badge.svg?branch=development" alt="CMake" style="pointer-events: none;" class="inline"/></a> </h2>
<p >WolkAbout C99 Connector library for connecting devices to WolkAbout IoT platform instance.</p>
<p >WolkConnect-C is transportation layer agnostic which means it is up to the user of the library to open socket to WolkAbout IoT platform, configure SSL if desired, and forward read/write implementation to WolkConnect-C Connector. WolkConnect-C Connector is not thread safe, and is written with cooperative scheduling in mind. This allows WolkConnect-C Connector to work on wide variety of systems, bare metal to OS based ones.</p>
<p >Given examples are intended to be run on Debian based system.</p>
<h2>Prerequisite </h2>
<p >Following tools/libraries are required in order to build WolkConnect-C Connector</p>
<ul>
<li>libz-dev &amp; wget</li>
<li>gcc &amp; g++</li>
<li>cmake - version 2.8 or later</li>
<li>libssl-dev</li>
<li>clang-format</li>
<li>ruby</li>
<li>ceedling</li>
<li>valgrind</li>
</ul>
<p >Former can be installed on Debian based system from terminal by invoking</p>
<p ><code>sudo apt-get install libz-dev wget gcc g++ cmake libssl-dev clang-format ruby valgrind</code></p>
<p ><code>gem install ceedling</code></p>
<p >When dependencies are installed, Unix Makefiles build system can be generated by invoking <code>./configure</code></p>
<p >Generated build system is located inside <code>build</code> directory.</p>
<p >WolkConnect-C Connector library, and example are built from <code>build</code> directory by invoking <code>make all</code> in terminal.</p>
<p >Library application is built to <code>out/lib</code> directory, and example application is built to <code>out/bin</code> directory.</p>
<h2>Example Usage </h2>
<p ><b>Initialize WolkConnect-C Connector</b></p>
<p >Create a device on WolkAbout IoT platform using <a href="https:/*github.com/Wolkabout/WolkConnect-C/blob/master/examples/full_feature_set/full_example.json">Full Feature Set example</a> device type. This device type fits <code>full_feature_set</code> example and demonstrates all the functionality of WolkConnect-C library.</p>
<p ><b>Establishing connection with WolkAbout IoT platform:</b></p>
<div class="fragment"><div class="line"><span class="comment">/* WolkAbout Platform device connection parameters */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* device_key       = <span class="stringliteral">&quot;device_key&quot;</span>;</div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* device_password  = <span class="stringliteral">&quot;some_password&quot;</span>;</div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* hostname         = <span class="stringliteral">&quot;insert_host&quot;</span>;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> portno                   = 80; <span class="comment">// TODO: insert port</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">char</span> certs[]                 = <span class="stringliteral">&quot;../ca.crt&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Sample in-memory persistence storage - size 1MB */</span></div>
<div class="line"><span class="keyword">static</span> uint8_t persistence_storage[1024 * 1024];</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* WolkConnect-C Connector context */</span></div>
<div class="line"><span class="keyword">static</span> <a class="code hl_struct" href="structwolk__ctx.html">wolk_ctx_t</a> wolk;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*...</span></div>
<div class="line"><span class="comment">/*...</span></div>
<div class="line"><span class="comment">/*...</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">wolk_init(&amp;wolk,                                             /* Context */</span></div>
<div class="line">          send_buffer,                                       <span class="comment">/* See send_func_t */</span></div>
<div class="line">          receive_buffer,                                    <span class="comment">/* See recv_func_t */</span></div>
<div class="line">          device_key, device_password,                       <span class="comment">/* Device key and password provided by WolkAbout IoT Platform upon device creation */</span></div>
<div class="line">          PUSH,                                              <span class="comment">/* Device outbound mode - see outbound_mode_t */</span></div>
<div class="line">          feed_value_handler,                                <span class="comment">/* Feeds handler        - see feed_handler_t */</span></div>
<div class="line">          parameter_value_handler,                           <span class="comment">/* Parameters handler   - see parameter_handler_t */</span></div>
<div class="line">          details_synchronization_value_handler);            <span class="comment">/* Details synchronization handler   - see details_synchronization_handler_t */</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="wolk__connector_8h.html#a0fbb983c6b65072501b078ba6ff8e5ad">wolk_init_in_memory_persistence</a>(&amp;wolk,                       <span class="comment">/* Context */</span></div>
<div class="line">                                persistence_storage,         <span class="comment">/* Address to start of the memory which will be used by persistence mechanism */</span></div>
<div class="line">                                <span class="keyword">sizeof</span>(persistence_storage), <span class="comment">/* Size of memory in bytes */</span></div>
<div class="line">                                <span class="keyword">false</span>);                      <span class="comment">/* If storage is full overwrite the oldest item when pushing */</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="wolk__connector_8h.html#ab246fad03ad57f3efe89f4ec2c93a288">wolk_connect</a>(&amp;wolk);</div>
<div class="ttc" id="astructwolk__ctx_html"><div class="ttname"><a href="structwolk__ctx.html">wolk_ctx</a></div><div class="ttdoc">WolkAbout IoT Platform connector context. Most of the parameters are used to initialize WolkConnect l...</div><div class="ttdef"><b>Definition:</b> wolk_connector.h:125</div></div>
<div class="ttc" id="awolk__connector_8h_html_a0fbb983c6b65072501b078ba6ff8e5ad"><div class="ttname"><a href="wolk__connector_8h.html#a0fbb983c6b65072501b078ba6ff8e5ad">wolk_init_in_memory_persistence</a></div><div class="ttdeci">WOLK_ERR_T wolk_init_in_memory_persistence(wolk_ctx_t *ctx, void *storage, uint32_t size, bool wrap)</div><div class="ttdoc">Initializes persistence mechanism with in-memory implementation.</div></div>
<div class="ttc" id="awolk__connector_8h_html_ab246fad03ad57f3efe89f4ec2c93a288"><div class="ttname"><a href="wolk__connector_8h.html#ab246fad03ad57f3efe89f4ec2c93a288">wolk_connect</a></div><div class="ttdeci">WOLK_ERR_T wolk_connect(wolk_ctx_t *ctx)</div><div class="ttdoc">Connect to WolkAbout IoT Platform.</div></div>
</div><!-- fragment --><p> Considering that WolkConnect C Connector is transportation layer agnostic, it is up to the user of it to open connection to WolkAbout IoT Platform, optionally setup TLS, and forward read/write callbacks WolkConnect-C Connector in initialization step.</p>
<p >See <code>send_func_t</code> and <code>send_func_t</code> in <code><a class="el" href="wolk__connector_8h.html">sources/wolk_connector.h</a></code></p>
<p ><em><b>Send feed value example:</b></em> </p><div class="fragment"><div class="line"><span class="comment">// Numeric</span></div>
<div class="line"><a class="code hl_struct" href="structwolk__numeric__feeds__t.html">wolk_numeric_feeds_t</a> temperature_value = {0};</div>
<div class="line">temperature_value.<a class="code hl_variable" href="structwolk__numeric__feeds__t.html#ab61eeb7ea44306c6daa131a7e2b086e4">value</a> = 23;</div>
<div class="line"><a class="code hl_function" href="wolk__connector_8h.html#a11dc8683a6034029c3f5097972d57050">wolk_add_numeric_feed</a>(&amp;wolk, <span class="stringliteral">&quot;T&quot;</span>, &amp;temperature_value, 1)</div>
<div class="line"> </div>
<div class="line"><span class="comment">//Boolean</span></div>
<div class="line"><a class="code hl_struct" href="structwolk__boolean__feeds__t.html">wolk_boolean_feeds_t</a> switch_value = {0};</div>
<div class="line">switch_value.switch_value = <span class="keyword">true</span>;</div>
<div class="line"><a class="code hl_function" href="wolk__connector_8h.html#ae217ad7bc44d29c4f73c1cb497398123">wolk_add_bool_feeds</a>(&amp;wolk, <span class="stringliteral">&quot;SW&quot;</span>, &amp;switch_value, 1);</div>
<div class="ttc" id="astructwolk__boolean__feeds__t_html"><div class="ttname"><a href="structwolk__boolean__feeds__t.html">wolk_boolean_feeds_t</a></div><div class="ttdoc">WolkAbout IoT Platform boolean feed type.</div><div class="ttdef"><b>Definition:</b> wolk_connector.h:74</div></div>
<div class="ttc" id="astructwolk__numeric__feeds__t_html"><div class="ttname"><a href="structwolk__numeric__feeds__t.html">wolk_numeric_feeds_t</a></div><div class="ttdoc">WolkAbout IoT Platform numeric feed type.</div><div class="ttdef"><b>Definition:</b> wolk_connector.h:58</div></div>
<div class="ttc" id="astructwolk__numeric__feeds__t_html_ab61eeb7ea44306c6daa131a7e2b086e4"><div class="ttname"><a href="structwolk__numeric__feeds__t.html#ab61eeb7ea44306c6daa131a7e2b086e4">wolk_numeric_feeds_t::value</a></div><div class="ttdeci">double value</div><div class="ttdef"><b>Definition:</b> wolk_connector.h:59</div></div>
<div class="ttc" id="awolk__connector_8h_html_a11dc8683a6034029c3f5097972d57050"><div class="ttname"><a href="wolk__connector_8h.html#a11dc8683a6034029c3f5097972d57050">wolk_add_numeric_feed</a></div><div class="ttdeci">WOLK_ERR_T wolk_add_numeric_feed(wolk_ctx_t *ctx, const char *reference, wolk_numeric_feeds_t *feeds, size_t number_of_feeds)</div><div class="ttdoc">Add numeric feeds.</div></div>
<div class="ttc" id="awolk__connector_8h_html_ae217ad7bc44d29c4f73c1cb497398123"><div class="ttname"><a href="wolk__connector_8h.html#ae217ad7bc44d29c4f73c1cb497398123">wolk_add_bool_feeds</a></div><div class="ttdeci">WOLK_ERR_T wolk_add_bool_feeds(wolk_ctx_t *ctx, const char *reference, wolk_boolean_feeds_t *feeds, size_t number_of_feeds)</div><div class="ttdoc">Add bool feed.</div></div>
</div><!-- fragment --><p ><b>Sending parameter example:</b> </p><div class="fragment"><div class="line"><a class="code hl_typedef" href="wolk__connector_8h.html#a26f00ce23c7cb9f27aae343f9093c05a">wolk_parameter_t</a> parameter;</div>
<div class="line"><a class="code hl_function" href="wolk__connector_8h.html#a64420d360d863bb1d7f4a10668da94d3">wolk_init_parameter</a>(&amp;parameter, PARAMETER_MAXIMUM_MESSAGE_SIZE, <span class="stringliteral">&quot;1&quot;</span>);</div>
<div class="line"><a class="code hl_function" href="wolk__connector_8h.html#a4280e4312e8d982a9d7efb5239cbf397">wolk_change_parameter</a>(&amp;wolk, &amp;parameter, 1);</div>
<div class="ttc" id="awolk__connector_8h_html_a26f00ce23c7cb9f27aae343f9093c05a"><div class="ttname"><a href="wolk__connector_8h.html#a26f00ce23c7cb9f27aae343f9093c05a">wolk_parameter_t</a></div><div class="ttdeci">parameter_t wolk_parameter_t</div><div class="ttdef"><b>Definition:</b> wolk_connector.h:81</div></div>
<div class="ttc" id="awolk__connector_8h_html_a4280e4312e8d982a9d7efb5239cbf397"><div class="ttname"><a href="wolk__connector_8h.html#a4280e4312e8d982a9d7efb5239cbf397">wolk_change_parameter</a></div><div class="ttdeci">WOLK_ERR_T wolk_change_parameter(wolk_ctx_t *ctx, parameter_t *parameter, size_t number_of_parameters)</div><div class="ttdoc">Change existing parameters on the WolkAbout IoT Platform. Updating parameters this way can lead to a ...</div></div>
<div class="ttc" id="awolk__connector_8h_html_a64420d360d863bb1d7f4a10668da94d3"><div class="ttname"><a href="wolk__connector_8h.html#a64420d360d863bb1d7f4a10668da94d3">wolk_init_parameter</a></div><div class="ttdeci">WOLK_ERR_T wolk_init_parameter(parameter_t *parameter, char *name, char *value)</div><div class="ttdoc">Initialized parameter.</div></div>
</div><!-- fragment --><p ><b>Details synchronization</b> Requesting all data about device from the WolkAbout IoT platform example: </p><div class="fragment"><div class="line"><a class="code hl_function" href="wolk__connector_8h.html#a72b25557dedbda3544a431a8785d1f7d">wolk_details_synchronization</a>(&amp;wolk)</div>
<div class="ttc" id="awolk__connector_8h_html_a72b25557dedbda3544a431a8785d1f7d"><div class="ttname"><a href="wolk__connector_8h.html#a72b25557dedbda3544a431a8785d1f7d">wolk_details_synchronization</a></div><div class="ttdeci">WOLK_ERR_T wolk_details_synchronization(wolk_ctx_t *ctx)</div><div class="ttdoc">Requesting list of the feeds and attributes from the WolkAbout IoT platform.</div></div>
</div><!-- fragment --><p> Data will be received at the <code>details_synchronization_value_handler</code>.</p>
<p ><b>Data publish strategy:</b></p>
<p >Sensor readings, and alarms are pushed to WolkAbout IoT platform on demand by calling </p><div class="fragment"><div class="line"><a class="code hl_function" href="wolk__connector_8h.html#ac5e7ddb346ea4b9a7cc4511d3728be09">wolk_publish</a>(&amp;wolk);</div>
<div class="ttc" id="awolk__connector_8h_html_ac5e7ddb346ea4b9a7cc4511d3728be09"><div class="ttname"><a href="wolk__connector_8h.html#ac5e7ddb346ea4b9a7cc4511d3728be09">wolk_publish</a></div><div class="ttdeci">WOLK_ERR_T wolk_publish(wolk_ctx_t *ctx)</div><div class="ttdoc">Publish all accumulated data from persistence. It can be any data(feeds, attributed or parameters) ad...</div></div>
</div><!-- fragment --><p ><b>Cooperative scheduling:</b></p>
<p >Function <code>wolk_process(wolk_ctx_t *ctx)</code> is non-blocking in order to comply with cooperative scheduling, and it must be called periodically.</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="wolk__connector_8h.html#adcdceef8506309d355cb12f305f99936">wolk_process</a>(&amp;wolk, 5);</div>
<div class="ttc" id="awolk__connector_8h_html_adcdceef8506309d355cb12f305f99936"><div class="ttname"><a href="wolk__connector_8h.html#adcdceef8506309d355cb12f305f99936">wolk_process</a></div><div class="ttdeci">WOLK_ERR_T wolk_process(wolk_ctx_t *ctx, uint64_t tick)</div><div class="ttdoc">Must be called periodically to keep alive connection to WolkAbout IoT platform, obtain and perform in...</div></div>
</div><!-- fragment --><p ><b>Disconnecting from the platform:</b> </p><div class="fragment"><div class="line"><a class="code hl_function" href="wolk__connector_8h.html#af174943365b8cddc1e6e9351996805c3">wolk_disconnect</a>(&amp;wolk);</div>
<div class="ttc" id="awolk__connector_8h_html_af174943365b8cddc1e6e9351996805c3"><div class="ttname"><a href="wolk__connector_8h.html#af174943365b8cddc1e6e9351996805c3">wolk_disconnect</a></div><div class="ttdeci">WOLK_ERR_T wolk_disconnect(wolk_ctx_t *ctx)</div><div class="ttdoc">Disconnect from WolkAbout IoT Platform.</div></div>
</div><!-- fragment --><p ><b>Data persistence:</b></p>
<p >WolkConnect-C provides mechanism for persisting data in situations where readings can not be sent to WolkAbout IoT platform. Default implementation can work with in-memory or memory mapped storage.</p>
<p >Persisted readings are sent to WolkAbout IoT platform, in batches, on publish function call.</p>
<p >In cases when provided persistence implementation is suboptimal, one can use custom persistence by providing custom implementation.</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="wolk__connector_8h.html#a4cb5cc0164b0ab19f9b2bf36d28e9913">wolk_init_custom_persistence</a>(&amp;wolk,</div>
<div class="line">                             persistence_push_impl,</div>
<div class="line">                             persistence_peek_impl, persistence_pop_impl,</div>
<div class="line">                             persistence_is_empty_impl);</div>
<div class="ttc" id="awolk__connector_8h_html_a4cb5cc0164b0ab19f9b2bf36d28e9913"><div class="ttname"><a href="wolk__connector_8h.html#a4cb5cc0164b0ab19f9b2bf36d28e9913">wolk_init_custom_persistence</a></div><div class="ttdeci">WOLK_ERR_T wolk_init_custom_persistence(wolk_ctx_t *ctx, persistence_push_t push, persistence_peek_t peek, persistence_pop_t pop, persistence_is_empty_t is_empty)</div><div class="ttdoc">Initializes persistence mechanism with custom implementation.</div></div>
</div><!-- fragment --><p >For more info on persistence mechanism see <code>sources/persistence/persistence.h</code> and <code>sources/persistence/in_memory_persistence.h</code> files.</p>
<p ><b>File Management:</b></p>
<p >WolkAbout C Connector provides mechanism for file management.</p>
<p >By default this feature is disabled. See code snippet below on how to enable device file management. </p><div class="fragment"><div class="line"><a class="code hl_function" href="wolk__connector_8h.html#a775ffcb1d0bf989550500c200cf653b9">wolk_init_file_management</a>(&amp;wolk,                                        <span class="comment">/* Context */</span></div>
<div class="line">                          128 * 1024 * 1024,                            <span class="comment">/* Maximum acceptable size of file, in bytes */</span></div>
<div class="line">                          1,                                            <span class="comment">/* Size of file transfer chunk, in kB, can&#39;t be higher that MQTT_PACKET_SIZE. define as parameter on the platform side */</span></div>
<div class="line">                          file_management_start,                        <span class="comment">/* Prepares device for receiving file */</span></div>
<div class="line">                          file_management_write,                        <span class="comment">/* Writes received file chunk */</span></div>
<div class="line">                          file_management_chunk_read,                   <span class="comment">/* Reads requested file chunk */</span></div>
<div class="line">                          file_management_abort,                        <span class="comment">/* Aborts file update sequence */</span></div>
<div class="line">                          file_management_finalize,                     <span class="comment">/* Reboots device */</span></div>
<div class="line">                          file_management_url_download,                 <span class="comment">/* Handler that obtains file from URL */</span></div>
<div class="line">                          file_management_is_url_download_done,         <span class="comment">/* Reports URL download state (in progress | done), and it&#39;s result (success | failure) */</span></div>
<div class="line">                          file_management_get_file_list,                <span class="comment">/* Return list of the files from directory `files` */</span></div>
<div class="line">                          file_management_remove_file,                  <span class="comment">/* Delete specific file */</span></div>
<div class="line">                          file_management_purge_list)                   <span class="comment">/* Delete all files from directory `files` */</span></div>
<div class="ttc" id="awolk__connector_8h_html_a775ffcb1d0bf989550500c200cf653b9"><div class="ttname"><a href="wolk__connector_8h.html#a775ffcb1d0bf989550500c200cf653b9">wolk_init_file_management</a></div><div class="ttdeci">WOLK_ERR_T wolk_init_file_management(wolk_ctx_t *ctx, size_t maximum_file_size, size_t chunk_size, file_management_start_t start, file_management_write_chunk_t write_chunk, file_management_read_chunk_t read_chunk, file_management_abort_t abort, file_management_finalize_t finalize, file_management_start_url_download_t start_url_download, file_management_is_url_download_done_t is_url_download_done, file_management_get_file_list_t get_file_list, file_management_remove_file_t remove_file, file_management_purge_files_t purge_files)</div><div class="ttdoc">Initializes File Management.</div></div>
</div><!-- fragment --><p >For more info on device File Management mechanism see <code>sources/model/file_management/file_management.h</code> file.</p>
<p ><b>Firmware Update:</b></p>
<p >WolkAbout C Connector provides mechanism for triggering Firmware Update. Firmware installation isn't covered, it is platform specific, and it is up to user to implement it.</p>
<p >See code snippet below on how to enable device file management. </p><div class="fragment"><div class="line"><a class="code hl_function" href="wolk__connector_8h.html#af01c018e5d25b6c871ee62299788fb47">wolk_init_firmware_update</a>(&amp;wolk,                                        <span class="comment">/* Context */</span></div>
<div class="line">                          firmware_update_start_installation,           <span class="comment">/* Trigger start of the firmware update */</span></div>
<div class="line">                          firmware_update_is_installation_completed,    <span class="comment">/* Check status of the firmware update */</span></div>
<div class="line">                          firmware_update_verification_store,           <span class="comment">/* Store verification parameters into permanent memory, obligatory */</span></div>
<div class="line">                          firmware_update_verification_read,            <span class="comment">/* Read verification parameters from permanent memory */</span></div>
<div class="line">                          firmware_update_abort_installation)           <span class="comment">/* Abort current installation */</span></div>
<div class="ttc" id="awolk__connector_8h_html_af01c018e5d25b6c871ee62299788fb47"><div class="ttname"><a href="wolk__connector_8h.html#af01c018e5d25b6c871ee62299788fb47">wolk_init_firmware_update</a></div><div class="ttdeci">WOLK_ERR_T wolk_init_firmware_update(wolk_ctx_t *ctx, firmware_update_start_installation_t start_installation, firmware_update_is_installation_completed_t is_installation_completed, firmware_update_verification_store_t verification_store, firmware_update_verification_read_t verification_read, firmware_update_abort_t abort_installation)</div><div class="ttdoc">Initializes Firmware Update.</div></div>
</div><!-- fragment --><p >For more info on device File Management mechanism see <code>sources/model/firmware_update.h</code> file.</p>
<p ><b>Timestamp request</b></p>
<p >If you need access to the server's current time, you can request it in the following manner:</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="wolk__connector_8h.html#a02ddcb994b51883db57a53ee52bee559">wolk_sync_time_request</a>(&amp;wolk)</div>
<div class="ttc" id="awolk__connector_8h_html_a02ddcb994b51883db57a53ee52bee559"><div class="ttname"><a href="wolk__connector_8h.html#a02ddcb994b51883db57a53ee52bee559">wolk_sync_time_request</a></div><div class="ttdeci">WOLK_ERR_T wolk_sync_time_request(wolk_ctx_t *ctx)</div><div class="ttdoc">This is request for getting WolkAbout IoT Platform's timestamp define as UTC in milliseconds....</div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<hr class="footer"/><address class="footer">
<div align="center">
  Copyright 2018 WolkAbout Technology s.r.o.
</div>
<small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.9.4
</small></address>
</body>
</html>
